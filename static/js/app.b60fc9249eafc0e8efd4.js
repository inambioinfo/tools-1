webpackJsonp([1,2],{100:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table"},[n("thead",[n("tr",t._l(t.columns,function(e){return n("th",{class:{active:t.sortKey==e},on:{click:function(n){t.sortBy(e)}}},[t._v("\n        "+t._s(t._f("capitalize")(e))+"\n        "),n("span",{staticClass:"arrow",class:t.sortOrders[e]>0?"asc":"dsc"})])}))]),t._v(" "),n("tbody",t._l(t.filteredData,function(e,s){return n("tr",{on:{mouseover:function(n){t.highlightPeptide(e.id)}}},[n("td",[t._v(t._s(s))]),t._v(" "),t._l(e.table,function(e){return n("td",[t._v("\n        "+t._s(e)+"\n      ")])})],2)}))])},staticRenderFns:[]}},101:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"autocomplete-input"},[n("p",{staticClass:"control has-icon has-icon-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"input is-medium is-loading",attrs:{placeholder:"gene name search"},domProps:{value:t.keyword},on:{input:[function(e){e.target.composing||(t.keyword=e.target.value)},function(e){t.onInput(e.target.value)}],keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27))return null;t.isOpen=!1},blur:function(e){t.isOpen=!1},keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40))return null;t.moveDown(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38))return null;t.moveUp(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.select(e)}]}}),t._v(" "),n("i",{staticClass:"fa fa-angle-down"})]),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"options-list"},t._l(t.fOptions,function(e,s){return n("li",{class:{highlighted:s===t.highlightedPosition},on:{mouseenter:function(e){t.highlightedPosition=s},mousedown:t.select}},[t._v("\n        "+t._s(e)+"\n    ")])}))])},staticRenderFns:[]}},104:function(t,e){},105:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(36),i=n(35),o=n.n(i);n(34),s.a.config.productionTip=!1,new s.a({el:"#app",template:"<App/>",components:{App:o.a}})},34:function(t,e){},35:function(t,e,n){n(73);var s=n(8)(n(38),n(98),null,null);t.exports=s.exports},38:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(95),i=n.n(s);e.default={name:"app",components:{Hello:i.a}}},39:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var s=n(19),i=n.n(s),o=n(25),a=n.n(o),r=n(96),l=n.n(r),c=n(97),u=n.n(c),d=n(45);e.default={name:"hello",data:function(){return{all:[{"":-1,SEQ:["asd"],NP_Counts:1,Gene_Name:"aaa001"}],selected:{"":-1,seq:[],nu:"",variants:{}},sequences:[],geneName:"AATK",genes:[],fasta_seq:"",np:[],headers:["Peptide","Human Unique","Gene Unique","Isoform Unique","Contains Variant"],searchQuery:-1,overID:-1}},created:function(){var e=this,n=new XMLHttpRequest;n.open("get","./static/AATK_Gene_variants.json.gz.txt",!0),n.onreadystatechange=function(s){if(n.readyState===XMLHttpRequest.DONE){var i=t.from(n.responseText,"base64");d.unzip(i,function(t,n){if(t)console.log(t);else{var s=JSON.parse(n.toString());e.all=s,e.genes=a.a.keys(e.all),e.np=a.a.keys(e.all.AATK),e.selected=e.all.AATK[e.np[0]],e.selected.variants=e.all.AATK[e.np[0]].peptides,e.fasta_seq=e.selected.seq,e.sequences=e.selected.nu}})}},n.onprogress=function(t){t.loaded,t.total,console.log(t.loaded/t.total)},n.send()},components:{GeneList:l.a,PepTable:u.a},methods:{onOptionSelect:function(t){console.log("Selected option:",t),this.geneName=t,this.np=a.a.keys(this.all[t]),this.selected=this.all[this.geneName][this.np[0]],this.selected.variants=this.selected.peptides,this.fasta_seq=this.selected.seq,this.sequences=this.selected.nu},setNP:function(t){this.selected=this.all[this.geneName][t.target.value],this.selected.variants=this.selected.peptides,this.fasta_seq=this.selected.seq,this.sequences=this.selected.nu},resetSS:function(){this.fasta_seq=this.selected.FASTA_SEQ},overSequence:function(t){this.searchQuery=t,this.overID=t}},computed:{allSeq:function(){var t=this;return a.a.map(this.selected.seq.slice().reverse(),function(e){var n="normal",s="";"v"===e.t?n="modification":"p"===e.t?(n=e.id===t.overID||t.overID===-1?"peptide col"+e.o:"peptide bold",s=e.id):n="normal";var i="<table><tr><th>protein_ref</th><th>protein_pos</th><th>protein_alt</th></tr>";return a.a.forEach(e.i,function(t){i+="<tr><td>"+t.r+"</td><td>"+t.p+"</td><td>"+t.a+"</td></tr>"}),i+="</table>",{sequence:e.s,classification:n,tooltip:i,id:s}})},variants:function(){var t=a.a.reduce(this.selected.variants,function(t,e,n){return t[e.protein_pos]||(t[e.protein_pos]={protein_pos:e.protein_pos,table:'<table class="table is-bordered is-striped is-narrow"><thead><tr><th>protein_ref</th><th>protein_pos</th><th>protein_alt</th></tr></thead>'}),t[e.protein_pos].table+="<tr><td>"+e.protein_ref+"</td><td>"+e.protein_pos+"</td><td>"+e.protein_alt+"</td></tr>",t},{});t=i()(t).sort(function(t,e){return t.protein_pos-e.protein_pos});var e=[],n=this.fasta_seq;return a.a.forEachRight(t,function(t){var s=t.protein_pos;e.push({text:n.slice(s),classification:"normal"}),e.push({text:n.slice(s-1,s),tooltip:t.table+"</table>",classification:"modification"}),n=n.slice(0,s-1)}),e.push({classification:"normal",text:n}),e.reverse()}}}}).call(e,n(0).Buffer)},40:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(25),i=n.n(s);e.default={props:{options:{type:Array,required:!0}},data:function(){return{isOpen:!1,highlightedPosition:0,keyword:""}},methods:{onInput:function(t){this.isOpen=!!t,this.highlightedPosition=0},moveDown:function(){this.isOpen&&(this.highlightedPosition=(this.highlightedPosition+1)%this.fOptions.length)},moveUp:function(){this.isOpen&&(this.highlightedPosition=this.highlightedPosition-1<0?this.fOptions.length-1:this.highlightedPosition-1)},select:function(){var t=this.fOptions[this.highlightedPosition];this.keyword=t.Gene_Name,this.isOpen=!1,this.$emit("select",t)}},computed:{fOptions:function(){var t=new RegExp(this.keyword,"i");return i.a.chain(this.options).filter(function(e){return e.match(t)}).take(10).value()}}}},41:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(42),i=n.n(s),o=n(19),a=n.n(o);e.default={name:"pep-table",props:{data:{type:Object,required:!0},columns:{type:Array,required:!0},filterKey:Number},data:function(){var t={};return this.columns.forEach(function(e){t[e]=1}),console.log("start",a()(t),t),{sortKey:"",sortOrders:t}},computed:{filteredData:function(){var t=this.sortKey,e=this.filterKey,n=this.sortOrders[t]||1,s=this.data;if(console.log("fk",e),e!==-1){var o=i()(s).filter(function(t){return t[1].id===e});s={},s[o[0][0]]=o[0][1]}return t&&(s=s.slice().sort(function(e,s){return e=e[t],s=s[t],(e===s?0:e>s?1:-1)*n})),console.log("Data",s),s}},filters:{capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},methods:{sortBy:function(t){this.sortKey=t,this.sortOrders[t]=this.sortOrders[t]*-1},highlightPeptide:function(t){console.log(t),this.highlightID=0}}}},73:function(t,e){},74:function(t,e){},75:function(t,e){},76:function(t,e){},95:function(t,e,n){n(74);var s=n(8)(n(39),n(99),"data-v-13df8e30",null);t.exports=s.exports},96:function(t,e,n){n(76);var s=n(8)(n(40),n(101),null,null);t.exports=s.exports},97:function(t,e,n){n(75);var s=n(8)(n(41),n(100),null,null);t.exports=s.exports},98:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("hello")],1)},staticRenderFns:[]}},99:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("section",{staticClass:"hero is-fullheight"},[n("div",{staticClass:"hero-head"},[n("header",{staticClass:"nav"},[n("div",{staticClass:"container"},[n("div",{staticClass:"nav-left"},[n("gene-list",{attrs:{options:t.genes},on:{select:t.onOptionSelect}})],1),t._v(" "),t._m(0),t._v(" "),t._m(1)])])]),t._v(" "),n("div",{staticClass:"hero-body has-text-left"},[n("section",[n("div",{staticClass:"container is-fluid"},[n("div",{staticClass:"heading"},[n("h1",{staticClass:"title"},[t._v("Gene Name: "+t._s(t.geneName))]),t._v(" "),n("label",{staticClass:"label"},[t._v("NP#")]),t._v(" "),n("p",{staticClass:"control"},[n("span",{staticClass:"select"},[n("select",{on:{change:t.setNP}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Please select one")]),t._v(" "),t._l(t.np,function(e){return n("option",[t._v(t._s(e))])})],2)])])]),t._v(" "),n("div",{staticStyle:{padding:"0% 10% 0% 10%"}},[n("hr"),t._v(" "),n("p",{staticClass:"sequence-parent"},t._l(t.allSeq,function(e){return n("span",{class:[e.classification]},[""!==e.id?n("span",{attrs:{id:[e.id]},on:{mouseover:function(n){t.overSequence(e.id)},mouseout:function(e){t.overID=-1,t.searchQuery=-1}}},[t._v(t._s(e.sequence))]):n("span",[t._v(t._s(e.sequence))]),"modification"===e.classification?n("div",{staticClass:"tooltiptext",domProps:{innerHTML:t._s(e.tooltip)}}):t._e()])}))]),t._v(" "),n("pep-table",{attrs:{data:t.selected.variants,columns:t.headers,filterKey:t.searchQuery}})],1)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"nav-toggle"},[n("span"),t._v(" "),n("span"),t._v(" "),n("span")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-right nav-menu"},[n("a",{staticClass:"nav-item is-active"},[t._v("\n              Home\n            ")])])}]}}},[105]);
//# sourceMappingURL=app.b60fc9249eafc0e8efd4.js.map