webpackJsonp([1,2],{100:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("hello")],1)},staticRenderFns:[]}},101:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("section",{staticClass:"hero is-fullheight"},[n("div",{staticClass:"hero-head"},[n("header",{staticClass:"nav"},[n("div",{staticClass:"container"},[n("div",{staticClass:"nav-left"},[n("gene-list",{attrs:{options:t.genes},on:{select:t.onOptionSelect}})],1),t._v(" "),t._m(0),t._v(" "),t._m(1)])])]),t._v(" "),n("div",{staticClass:"hero-body has-text-left"},[n("section",[n("div",{staticClass:"container is-fluid"},[n("div",{staticClass:"heading"},[n("h1",{staticClass:"title"},[t._v("Gene Name: "+t._s(t.geneName))]),t._v(" "),n("label",{staticClass:"label"},[t._v("NP#")]),t._v(" "),n("p",{staticClass:"control"},[n("span",{staticClass:"select"},[n("select",{on:{change:t.setNP}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Please select one")]),t._v(" "),t._l(t.np,function(e){return n("option",[t._v(t._s(e))])})],2)])])]),t._v(" "),n("div",[n("p",t._l(t.variants,function(e){return n("span",{class:[e.classification]},[t._v(t._s(e.text)),"modification"===e.classification?n("div",{staticClass:"tooltiptext",domProps:{innerHTML:t._s(e.tooltip)}}):t._e()])})),t._v(" "),n("hr"),t._v(" "),n("p",t._l(t.allSeq,function(e){return n("span",{style:{color:e.col}},[t._v(t._s(e.text))])}))]),t._v(" "),n("hr"),t._v(" "),n("p",[n("span",[t._v("|")]),t._v(" "),t._l(t.sequences,function(e){return n("span",{staticClass:"tooltip"},[t._v(" "+t._s(e)+" |")])})],2),t._v(" "),n("hr"),t._v(" "),n("pep-table",{attrs:{data:t.selected.variants,columns:t.headers,filterKey:t.searchQuery}})],1)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"nav-toggle"},[n("span"),t._v(" "),n("span"),t._v(" "),n("span")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-right nav-menu"},[n("a",{staticClass:"nav-item is-active"},[t._v("\n              Home\n            ")])])}]}},102:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table"},[n("thead",[n("tr",t._l(t.columns,function(e){return n("th",{class:{active:t.sortKey==e},on:{click:function(n){t.sortBy(e)}}},[t._v("\n        "+t._s(t._f("capitalize")(e))+"\n        "),n("span",{staticClass:"arrow",class:t.sortOrders[e]>0?"asc":"dsc"})])}))]),t._v(" "),n("tbody",t._l(t.filteredData,function(e){return n("tr",t._l(t.columns,function(s){return n("td",[t._v("\n        "+t._s(e[s])+"\n      ")])}))}))])},staticRenderFns:[]}},103:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"autocomplete-input"},[n("p",{staticClass:"control has-icon has-icon-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"input is-medium is-loading",attrs:{placeholder:"gene name search"},domProps:{value:t.keyword},on:{input:[function(e){e.target.composing||(t.keyword=e.target.value)},function(e){t.onInput(e.target.value)}],keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27))return null;t.isOpen=!1},blur:function(e){t.isOpen=!1},keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40))return null;t.moveDown(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38))return null;t.moveUp(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.select(e)}]}}),t._v(" "),n("i",{staticClass:"fa fa-angle-down"})]),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"options-list"},t._l(t.fOptions,function(e,s){return n("li",{class:{highlighted:s===t.highlightedPosition},on:{mouseenter:function(e){t.highlightedPosition=s},mousedown:t.select}},[t._v("\n        "+t._s(e)+"\n    ")])}))])},staticRenderFns:[]}},106:function(t,e){},107:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(37),i=n(36),o=n.n(i);n(35),s.a.config.productionTip=!1,new s.a({el:"#app",template:"<App/>",components:{App:o.a}})},35:function(t,e){},36:function(t,e,n){n(75);var s=n(9)(n(39),n(100),null,null);t.exports=s.exports},39:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(97),i=n.n(s);e.default={name:"app",components:{Hello:i.a}}},40:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var s=n(20),i=n.n(s),o=n(26),a=n.n(o),r=n(98),l=n.n(r),c=n(99),u=n.n(c),p=n(46);e.default={name:"hello",data:function(){return{all:[{"":-1,SEQ:["asd"],NP_Counts:1,Gene_Name:"aaa001"}],selected:{"":-1,seq:"asd",nu:"",variants:[]},sequences:[],geneName:"AATK",genes:[],fasta_seq:"",np:[],headers:["REF","ALT","protein_ref","protein_pos","protein_alt"],searchQuery:""}},created:function(){var e=this,n=new XMLHttpRequest;n.open("get","./static/A_Gene_variants.json.gz.txt",!0),n.onreadystatechange=function(s){if(n.readyState===XMLHttpRequest.DONE){var i=t.from(n.responseText,"base64");p.unzip(i,function(t,n){if(t)console.log(t);else{var s=JSON.parse(n.toString());e.all=s,e.genes=a.a.keys(e.all),e.np=a.a.keys(e.all.AATK),e.selected=e.all.AATK[e.np[0]],e.selected.variants=a.a.map(e.selected.variants,function(t){return t.protein_pos=+t.protein_pos,t}),e.fasta_seq=e.selected.seq,e.sequences=e.selected.nu}})}},n.onprogress=function(t){t.loaded,t.total,console.log(t.loaded/t.total)},n.send()},components:{GeneList:l.a,PepTable:u.a},methods:{onOptionSelect:function(t){console.log("Selected option:",t),this.geneName=t,this.np=a.a.keys(this.all[t]),this.selected=this.all[this.geneName][this.np[0]],this.selected.variants=a.a.map(this.selected.variants,function(t){return t.protein_pos=+t.protein_pos,t}),this.fasta_seq=this.selected.seq,this.sequences=this.selected.nu},setNP:function(t){this.selected=this.all[this.geneName][t.target.value],this.selected.variants=a.a.map(this.selected.variants,function(t){return t.protein_pos=+t.protein_pos,t}),this.fasta_seq=this.selected.seq,this.sequences=this.selected.nu},resetSS:function(){this.fasta_seq=this.selected.FASTA_SEQ}},computed:{allSeq:function(){var t=this,e=a.a.chain(this.sequences).uniq().map(function(e){var n=t.fasta_seq.indexOf(e);return[n,n+e.length]}).sort(function(t,e){return t[0]-e[0]}).value(),n=[],s=this.fasta_seq;return a.a.forEachRight(e,function(t){t[0]!==-1&&(n.push({col:"#2c3e50",text:s.slice(t[1])}),n.push({col:"orange",text:"["+s.slice(t[0],t[1])+"]"}),s=s.slice(0,t[0]))}),n.push({col:"#2c3e50",text:s}),n.reverse()},variants:function(){var t=a.a.reduce(this.selected.variants,function(t,e,n){return t[e.protein_pos]||(t[e.protein_pos]={protein_pos:e.protein_pos,table:'<table class="table is-bordered is-striped is-narrow"><thead><tr><th>protein_ref</th><th>protein_pos</th><th>protein_alt</th></tr></thead>'}),t[e.protein_pos].table+="<tr><td>"+e.protein_ref+"</td><td>"+e.protein_pos+"</td><td>"+e.protein_alt+"</td></tr>",t},{});t=i()(t).sort(function(t,e){return t.protein_pos-e.protein_pos});var e=[],n=this.fasta_seq;return a.a.forEachRight(t,function(t){var s=t.protein_pos;e.push({text:n.slice(s),classification:"normal"}),e.push({text:n.slice(s-1,s),tooltip:t.table+"</table>",classification:"modification"}),n=n.slice(0,s-1)}),e.push({classification:"normal",text:n}),e.reverse()}}}}).call(e,n(0).Buffer)},41:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(26),i=n.n(s);e.default={props:{options:{type:Array,required:!0}},data:function(){return{isOpen:!1,highlightedPosition:0,keyword:""}},methods:{onInput:function(t){this.isOpen=!!t,this.highlightedPosition=0},moveDown:function(){this.isOpen&&(this.highlightedPosition=(this.highlightedPosition+1)%this.fOptions.length)},moveUp:function(){this.isOpen&&(this.highlightedPosition=this.highlightedPosition-1<0?this.fOptions.length-1:this.highlightedPosition-1)},select:function(){var t=this.fOptions[this.highlightedPosition];this.keyword=t.Gene_Name,this.isOpen=!1,this.$emit("select",t)}},computed:{fOptions:function(){var t=new RegExp(this.keyword,"i");return i.a.chain(this.options).filter(function(e){return e.match(t)}).take(10).value()}}}},42:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(43),i=n.n(s),o=n(20),a=n.n(o);e.default={name:"pep-table",props:{data:{type:Array,required:!0},columns:{type:Array,required:!0},filterKey:String},data:function(){var t={};return this.columns.forEach(function(e){t[e]=1}),console.log("start",a()(t),t),{sortKey:"",sortOrders:t}},computed:{filteredData:function(){var t=this.sortKey,e=this.filterKey&&this.filterKey.toLowerCase(),n=this.sortOrders[t]||1,s=this.data;return e&&(s=s.filter(function(t){return i()(t).some(function(n){return String(t[n]).toLowerCase().indexOf(e)>-1})})),t&&(s=s.slice().sort(function(e,s){return e=e[t],s=s[t],(e===s?0:e>s?1:-1)*n})),s}},filters:{capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},methods:{sortBy:function(t){this.sortKey=t,this.sortOrders[t]=this.sortOrders[t]*-1}}}},75:function(t,e){},76:function(t,e){},77:function(t,e){},78:function(t,e){},97:function(t,e,n){n(76);var s=n(9)(n(40),n(101),"data-v-13df8e30",null);t.exports=s.exports},98:function(t,e,n){n(78);var s=n(9)(n(41),n(103),null,null);t.exports=s.exports},99:function(t,e,n){n(77);var s=n(9)(n(42),n(102),null,null);t.exports=s.exports}},[107]);
//# sourceMappingURL=app.9720a801d923aa4a40c2.js.map